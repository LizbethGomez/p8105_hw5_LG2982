---
title: "p8105_hw5_LG2982"
author: "Lizbeth Gomez"
date: "11/8/2019"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(tidyverse)
library(purrr)

set.seed(10)

iris_with_missing = iris %>% 
  map_df(~replace(.x, sample(1:150, 20), NA)) %>%
  mutate(Species = as.character(Species))
```
There are two cases to address:

For numeric variables, you should fill in missing values with the mean of non-missing values
For character variables, you should fill in missing values with "virginica"
Write a function that takes a vector as an argument; replaces missing values using the rules defined above; and returns the resulting vector. Apply this function to the columns of iris_with_missing using a map statement


```{r, Problem 1}



output <- vector("list", length = ncol(iris_with_missing))

na_replace <- function(x) {
  if (is.numeric(x)) {
    replace_na(x, mean(x, na.rm = TRUE))
    
  }  else if (is.character(x)) {
    replace_na(x, "virginica")
  }
}

output = map(iris_with_missing, na_replace)


```


Data for each participant is included in a separate file, and file names include the subject ID and arm.

Create a tidy dataframe containing data from all participants, including the subject ID, arm, and observations over time:
- Start with a dataframe containing all file names; the list.files function will help
- Iterate over file names and read in data for each subject using purrr::map and saving the result as a new variable in the dataframe

```{r, Problem 2}

file_names_df = tibble(
  file_names = list.files(path = "./data/Problem_1"))

# function to read csv files

read_data <- function(file_name) {
  
  read_csv(paste0("data/Problem_1/", file_name))
  
}

# data frame with nested results from each file 
study_data_import = 
  file_names_df %>% 
  mutate(
    study_data = map(file_names_df[[1]], read_data))
```

- Tidy the result; manipulate file names to include control arm and subject ID, make sure weekly observations are “tidy”, and do any other tidying that’s necessary
```{r}

```



Make a spaghetti plot showing observations on each subject over time, and comment on differences between group
